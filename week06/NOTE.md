
# 状态机

## 定义

> 状态机是有限状态自动机的简称， 是现实事物运行规则抽象而成的一个数学模型

## 状态（state）

现实事物是有不同状态的。 我们通常所说的状态机是有限状态机， 也就是被描述的事物的状态的数量是有限的

状态机， 也就是 state machine， 不是指一台实际机器，而是指一个数学模型。说白了， 一般就是指一张状态转化图。

状态机全程 有限状态自动机。 给定一个状态机， 同时给定它的初识状态和输入， 那么输出状态是可以运算出来的。

## 有限状态机

### 每一个状态都是一个机器

- 每一个机器里， 我们可以做计算、存储、输出。。。
- 所有这些机器接受的输入是一致的
- 状态机的每一个机器本身没有状态， 如果我们用函数来表示的话， 它应该是纯函数（无副作用）

### 每一个机器知道下一个状态

- 每个机器都有确定的下一个状态（Moore）
- 每个机器根据输入决定下一个状态（Mealy）

> Mealy ：在计算理论中，米利型有限状态机（英语：Mealy machine）是基于它的当前状态和输入生成输出的有限状态自动机（更精确的叫有限状态变换器）。这意味着它的状态图将为每个转移边包括输入和输出二者。与输出只依赖于机器当前状态的摩尔有限状态机不同，它的输出与当前状态和输入都有关。但是对于每个 Mealy 机都有一个等价的 Moore 机，该等价的 Moore 机的状态数量上限是所对应 Mealy 机状态数量和输出数量的乘积加 1（|S’|=|S|*|Λ|+1）。

## 四大概念

状态机的四大概念

- State，状态。 一个状态机至少包含两个状态
- Event， 事件。 事件就是执行某个操作的触发条件或者口令。 
- Action， 动作。 事件发生以后要执行的动作。编程的时候，一个action一般对应一个函数。
- Transition， 变换。 也就是从一个状态变成另一个状态。 

## 应用

状态机是一个对真是世界的抽象， 而且是逻辑严谨的数学抽象， 所以明显非常适合用于数学领域。 也可以用在硬件设计、编译器设计，以及编程实现各种具体业务逻辑的时候

## 总结

状态机不是实际的机器设备，而是一个数学模型，通常体现为一个状态转换图。 涉及相关概念是State 状态， Event 事件, Action 动作， Transition 转换。 状态机是计算机科学的重要基础概念之一， 也可以说是一种总结归纳问题的思想
